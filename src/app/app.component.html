<div class="app-shell">
  <header class="app-toolbar">
    <a class="brand" routerLink="/galleries">
      <mat-icon class="brand-icon">checkroom</mat-icon>
      <span class="brand-text">{{ title }}</span>
    </a>

    <span class="spacer"></span>

    <nav class="nav-links" [class.nav-open]="menuOpen()">
      @for (item of navItems; track item.path) {
        <a
          class="nav-link"
          [routerLink]="item.path"
          routerLinkActive="active-link"
          (click)="closeMenu()"
        >
          {{ item.label }}
          @if (item.label === 'Shopping Cart' && lengthOfCart() > 0) {
            <span class="cart-length-badge">{{ lengthOfCart() }}</span>
          }
        </a>
      }
    </nav>

    <button
      type="button"
      class="menu-toggle"
      aria-label="Toggle menu"
      [attr.aria-expanded]="menuOpen()"
      (click)="toggleMenu()"
    >
      @if (menuOpen()) {
        <svg class="menu-icon menu-icon-close" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      } @else {
        <svg class="menu-icon menu-icon-open" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M4 12H14M4 5H20M4 19H20" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      }
    </button>
  </header>

  <main class="app-content">
    <section class="page-container">
      <router-outlet />
    </section>
  </main>

  @if (isLoading()) {
    <div class="loading-overlay" aria-label="Loading">
      <mat-progress-spinner
        mode="indeterminate"
        diameter="60"
        strokeWidth="5"
      />
    </div>
  }
</div>
